---
http_interactions:
- request:
    method: post
    uri: http://admin:admin@kamrad.tpondemand.com/api/v1/Iterations
    body:
      encoding: UTF-8
      string: ! '{"name":"Test Targetprocess::Iteration-1374677837","description":"something","startdate":"/Date(1387861200000+0300)/","enddate":"/Date(1387947600000+0300)/","owner":{"id":2},"project":{"id":221},"release":{"id":282}}'
    headers:
      Content-Type:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Server:
      - nginx/1.4.1
      Date:
      - Wed, 24 Jul 2013 14:57:18 GMT
      Content-Type:
      - text/xml; charset=utf-8
      Content-Length:
      - '5369'
      Connection:
      - keep-alive
      Keep-Alive:
      - timeout=60
      Cache-Control:
      - no-cache, no-store, must-revalidate
      Pragma:
      - no-cache
      Expires:
      - '-1'
      X-Aspnet-Version:
      - 4.0.30319
      X-Aspnetmvc-Version:
      - '3.0'
      X-Ua-Compatible:
      - IE=edge
    body:
      encoding: US-ASCII
      string: ! "<Error>\r\n  <Status>BadRequest</Status>\r\n  <Message>Sprint 'Test
        Targetprocess::Iteration-1374677837' start/end dates (23-Dec-2013/24-Dec-2013)
        are invalid. Start/End dates period overlaps Sprint 'Test Targetprocess::Iteration-1374677516'
        (22-Dec-2013/23-Dec-2013)</Message>\r\n  <Type>Tp.Web.Mvc.Exceptions.BadRequestException</Type>\r\n
        \ <StackTrace nil=\"true\" />\r\n  <Error>\r\n    <Message>[Iteration.Start
        Date]: Sprint 'Test Targetprocess::Iteration-1374677837' start/end dates (23-Dec-2013/24-Dec-2013)
        are invalid. Start/End dates period overlaps Sprint 'Test Targetprocess::Iteration-1374677516'
        (22-Dec-2013/23-Dec-2013).</Message>\r\n    <Type>Tp.BusinessObjects.Core.EntityValidationException</Type>\r\n
        \   <StackTrace>   at Tp.BusinessObjects.Entity.ThrowIfEntityIsInvalid() in
        c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Entity.cs:line
        364\r\n   at Tp.BusinessObjects.Entity.OnSave() in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Entity.cs:line
        347\r\n   at Tp.BusinessObjects.Data.Interceptors.TriggerInterceptor.IsTransient(Object
        entity) in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Data\\Interceptors\\TriggerInterceptor.cs:line
        149\r\n   at NHibernate.Engine.ForeignKeys.IsTransient(String entityName,
        Object entity, Nullable`1 assumed, ISessionImplementor session)\r\n   at NHibernate.Event.Default.AbstractSaveEventListener.GetEntityState(Object
        entity, String entityName, EntityEntry entry, ISessionImplementor source)\r\n
        \  at NHibernate.Event.Default.DefaultSaveOrUpdateEventListener.PerformSaveOrUpdate(SaveOrUpdateEvent
        event)\r\n   at NHibernate.Event.Default.DefaultSaveOrUpdateEventListener.OnSaveOrUpdate(SaveOrUpdateEvent
        event)\r\n   at NHibernate.Impl.SessionImpl.FireSaveOrUpdate(SaveOrUpdateEvent
        event)\r\n   at NHibernate.Impl.SessionImpl.SaveOrUpdate(Object obj)\r\n   at
        Tp.Data.Portal.Save(IEntity entity) in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Data\\Portal.cs:line
        1575\r\n   at Tp.Data.SerializingRepository.&lt;&gt;c__DisplayClass1.&lt;Save&gt;b__0()
        in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Data\\SerializingRepository.cs:line
        38\r\n   at Tp.Data.SerializingRepository.WithLock(WithLockAction action)
        in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Data\\SerializingRepository.cs:line
        80\r\n   at Tp.BusinessObjects.Entity.SaveCore() in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Entity.cs:line
        585\r\n   at Tp.BusinessObjects.Entity.Save() in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.BusinessObjects\\Entity.cs:line
        514\r\n   at Tp.Rest.Commands.SaveCommand.&lt;ExecuteCore&gt;b__0(IActiveRecord
        e, MappingEnvironment`3 env) in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.Rest\\Commands\\SaveCommand.cs:line
        17\r\n   at Tp.Rest.Commands.RepositoryCommand.Run(IResource resource, ResourceCollectionItemMappingBehavior
        collectionMapMode, Action`2 action) in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.Rest\\Commands\\RepositoryCommand.cs:line
        64\r\n   at Tp.Rest.Commands.RepositoryCommand.Execute(IResource input) in
        c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.Rest\\Commands\\RepositoryCommand.cs:line
        34\r\n   at Tp.Rest.Services.RestService.CreateOrUpdate(IResource resource)
        in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.Rest\\Services\\RestService.cs:line
        57\r\n   at Tp.Rest.Web.Controllers.ResourcesController.PostInternal(Nullable`1
        id, IResource resource, RequestParameters parameters, IEndPoint endpoint)
        in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.Rest.Web\\Controllers\\ResourcesController.cs:line
        42\r\n   at Tp.Rest.Web.Controllers.IterationsController.Post(Nullable`1 id,
        Maybe`1 resource, RequestParameters parameters) in c:\\.jenkins\\workspace\\BuildPackage\\Code\\Main\\Tp.Rest.Web\\Controllers\\Generated\\IterationsController.generated.cs:line
        44\r\n   at lambda_method(Closure , ControllerBase , Object[] )\r\n   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext
        controllerContext, IDictionary`2 parameters)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext
        controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\r\n
        \  at System.Web.Mvc.ControllerActionInvoker.&lt;&gt;c__DisplayClass15.&lt;InvokeActionMethodWithFilters&gt;b__12()\r\n
        \  at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter
        filter, ActionExecutingContext preContext, Func`1 continuation)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter
        filter, ActionExecutingContext preContext, Func`1 continuation)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter
        filter, ActionExecutingContext preContext, Func`1 continuation)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter
        filter, ActionExecutingContext preContext, Func`1 continuation)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter
        filter, ActionExecutingContext preContext, Func`1 continuation)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext
        controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2
        parameters)\r\n   at System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext
        controllerContext, String actionName)</StackTrace>\r\n  </Error>\r\n</Error>"
    http_version: 
  recorded_at: Wed, 24 Jul 2013 14:57:18 GMT
recorded_with: VCR 2.5.0
